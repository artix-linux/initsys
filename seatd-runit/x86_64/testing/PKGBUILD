# Maintainer: Qontinuum <qontinuum@artixlinux.org>
# Contributor: Muhammad Herdiansyah <koni@artixlinux.org>

pkgname=seatd-runit
pkgver=20220825
pkgrel=1
pkgdesc='runit service script for seatd'
arch=(any)
url='https://artixlinux.org'
license=(BSD)
depends=(dbus-runit seatd)
provides=(init-logind)
conflicts=(init-logind init-elogind)
install=seatd.install
source=(seatd.run)
sha256sums=(6a5c19ab7d3afa3cfdf25038f30c133e6d6aa1f2dcfa92b61f1d2a0f21aa2b25)

package() {
    cd "$srcdir"
    install -Dm755 seatd.run "$pkgdir/etc/runit/sv/seatd/run"

    install -d "${pkgdir}/etc/runit/runsvdir/default"
    ln -s logind "${pkgdir}/etc/runit/sv/seatd"
    ln -s ../../sv/logind "${pkgdir}/etc/runit/runsvdir/default/logind"
}
